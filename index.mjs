// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import{isPrimitive as t}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.2.1-esm/index.mjs";import{isPrimitive as r}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.1-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.2.1-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@v0.2.1-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-arraybuffer@v0.2.1-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-complex-floating-point-data-type@v0.2.1-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-complex64array@v0.2.1-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-complex128array@v0.2.1-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-booleanarray@v0.0.1-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/array-typed-ctors@v0.2.1-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/strided-base-reinterpret-complex64@v0.2.0-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/strided-base-reinterpret-complex128@v0.2.1-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/strided-base-reinterpret-boolean@v0.0.1-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-resolve-getter@v0.2.1-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-resolve-setter@v0.2.1-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/array-defaults@v0.2.1-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.1-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/array-buffer@v0.2.1-esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-ceil@v0.2.1-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@v0.2.2-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-ceil2@v0.2.1-esm/index.mjs";import k from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-log2@v0.2.1-esm/index.mjs";import M from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-min@v0.2.2-esm/index.mjs";import W from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.1-esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.1-esm/index.mjs";var H={bool:1,float64:8,float32:4,int16:2,int32:4,int8:1,uint16:2,uint32:4,uint8:1,uint8c:1,complex64:8,complex128:16},T=g.get("dtypes.default"),L=h("complex64"),P=h("complex128"),V=h("bool");function Y(e){return e instanceof L}function q(e){return e instanceof P}function z(e){return e instanceof V}function A(g){var L,P,V,A;if(V={highWaterMark:9007199254740992},arguments.length&&(A=function(e,t){return W(t)?E(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!r(e.highWaterMark))?new TypeError(u("01H2t","highWaterMark",e.highWaterMark)):null:new TypeError(u("01H2V",t))}(V,g),A))throw A;return P=function(e){var t,r;for(t=[],r=0;r<e+1;r++)t.push([]);return t}(x(k(V.highWaterMark))),L=0,e(C,"malloc",C),e(C,"calloc",(function(){var e,t,r,s;e=arguments.length,t=0===e?C():1===e?C(arguments[0]):C(arguments[0],arguments[1]);if(null!==t)for(r=q(t)?j(t,0):Y(t)?p(t,0):z(t)?f(t,0):t,s=0;s<r.length;s++)r[s]=0;return t})),e(C,"free",(function(e){var t,r,s;if(i(e)&&e.buffer)e=e.buffer;else if(!n(e))throw new TypeError(u("01H2s",e));if(e.byteLength>0){for(t=y(k(e.byteLength)),t=M(P.length-1,t),r=P[t],s=0;s<r.length;s++)if(r[s]===e)return!1;r.push(e)}return!0})),e(C,"clear",(function(){var e;for(e=0;e<P.length;e++)P[e].length=0;L=0})),e(C,"highWaterMark",V.highWaterMark),a(C,"nbytes",(function(){return L})),C;function B(e,t,r){var s;return 0===t?new e(0):null===(s=function(e){var t,r;return(r=k(e))<P.length&&P[r].length?P[r].pop():L+e>V.highWaterMark?null:(t=new b(e),L+=e,t)}(w(t)*H[r]))?s:new e(s,0,t)}function C(){var e,i,n,a,g,b,x,y,w;if(i=(e=arguments.length)&&t(arguments[e-1])?arguments[e-=1]:T,null===(n=h(i)))throw new TypeError(u("01H2Y",i));if(e<=0)return new n(0);if(r(arguments[0]))return B(n,arguments[0],i);if(s(arguments[0])){if(y=(a=arguments[0]).length,d(a)?a=j(a,0):m(a)?a=p(a,0):l(a)?a=f(a,0):o(i)&&(y/=2),null===(g=B(n,y,i)))return g;if(q(g)||Y(g)||z(g))return g.set(a),g;for(x=c(a),b=v(g),w=0;w<y;w++)b(g,w,x(a,w));return g}throw new TypeError(u("01H2r",arguments[0]))}}var B=A();e(B,"factory",A);export{B as default,A as factory};
//# sourceMappingURL=index.mjs.map
