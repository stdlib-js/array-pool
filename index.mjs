// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import{isPrimitive as t}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@esm/index.mjs";import{isPrimitive as r}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-typed-array-like@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-arraybuffer@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-complex64array@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-complex128array@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/array-typed-ctors@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/strided-base-reinterpret-complex64@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/strided-base-reinterpret-complex128@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessors@v0.0.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/array-dtype@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.0.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/array-buffer@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-ceil@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-ceil2@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-log2@v0.0.7-esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-min@esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";function k(e,t){return y(t)?w(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!r(e.highWaterMark))?new TypeError(c("00d35","highWaterMark",e.highWaterMark)):null:new TypeError(c("00d2h",t))}function M(e){var t,r;for(t=[],r=0;r<e+1;r++)t.push([]);return t}var W={float64:8,float32:4,int16:2,int32:4,int8:1,uint16:2,uint32:4,uint8:1,uint8c:1,complex64:8,complex128:16},E=l("complex64"),T=l("complex128");function L(e){return e instanceof E}function A(e){return e instanceof T}function B(y){var w,E,T,B;if(T={highWaterMark:9007199254740992},arguments.length&&(B=k(T,y)))throw B;return E=M(g(v(T.highWaterMark))),w=0,e(z,"malloc",z),e(z,"calloc",C),e(z,"free",D),e(z,"clear",F),e(z,"highWaterMark",T.highWaterMark),d(z,"nbytes",P),z;function P(){return w}function V(e){var t,r;return(r=v(e))<E.length&&E[r].length?E[r].pop():w+e>T.highWaterMark?null:(t=new j(e),w+=e,t)}function q(e,t,r){var s;return 0===t?new e(0):null===(s=V(b(t)*W[r]))?s:new e(s,0,t)}function z(){var e,i,n,d,j,g,u,b,v;if(i=(e=arguments.length)&&t(arguments[e-1])?arguments[e-=1]:"float64",null===(n=l(i)))throw new TypeError(c("00d2k",i));if(e<=0)return new n(0);if(r(arguments[0]))return q(n,arguments[0],i);if(s(arguments[0])){if(b=(d=arguments[0]).length,m(d)?d=h(d,0):o(d)?d=a(d,0):/^complex/.test(i)&&(b/=2),null===(j=q(n,b,i)))return j;if(A(j)||L(j))return j.set(d),j;for(u=p(f(d)).accessors[0],g=p(i).accessors[1],v=0;v<b;v++)g(j,v,u(d,v));return j}throw new TypeError(c("00d33",arguments[0]))}function C(){var e,t,r,s;if(null!==(t=0===(e=arguments.length)?z():1===e?z(arguments[0]):z(arguments[0],arguments[1])))for(r=A(t)?h(t,0):L(t)?a(t,0):t,s=0;s<r.length;s++)r[s]=0;return t}function D(e){var t,r,s;if(i(e)&&e.buffer)e=e.buffer;else if(!n(e))throw new TypeError(c("invalid argument. Must provide a typed array or ArrayBuffer. Value: `%s`.",e));if(e.byteLength>0){for(t=u(v(e.byteLength)),t=x(E.length-1,t),r=E[t],s=0;s<r.length;s++)if(r[s]===e)return!1;r.push(e)}return!0}function F(){var e;for(e=0;e<E.length;e++)E[e].length=0;w=0}}var P=B();e(P,"factory",B);export{P as default,B as factory};
//# sourceMappingURL=index.mjs.map
